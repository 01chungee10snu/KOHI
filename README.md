# KOHI 교육 사이트 스크래퍼

한국보건복지인재원(KOHI) 교육 사이트의 교육과정 정보를 수집하는 웹 스크래퍼입니다.

## 🎯 프로젝트 목표
- KOHI 교육 사이트(edu.kohi.or.kr)의 모든 교육과정 정보를 체계적으로 수집
- 검색 결과 페이지와 상세 페이지의 모든 메타데이터 추출
- 구조화된 CSV 파일로 데이터 저장

## 📋 수집 정보 (43개 필드)

### 검색 결과 페이지에서 수집
- 썸네일 이미지 URL
- 교육비 구분 (무료/유료)
- 교육형태 (이러닝/대면/하이브리드 등)
- 교육분야 카테고리
- 모집상태 (모집중/마감)
- 지원플랫폼 (PC/Mobile)
- 맛보기 영상 유무
- 교육과정 코드

### 상세 페이지에서 수집
- 교육과정명
- 교육소개
- 신청정보 (대상, 기간, 시간, 정원 등)
- 수료기준 (학습진도, 시험, 과제 등)
- 교육구성 (과목별 상세 정보)
- 추천교육과정

## 🛠️ 기술 스택
- Python 3.x
- Playwright (브라우저 자동화)
- Pandas (데이터 처리)
- Logging (상세 로깅)

## 📦 설치 방법

```bash
# 필수 패키지 설치
pip install playwright pandas

# Playwright 브라우저 설치
playwright install chromium
```

## 🚀 사용 방법

### 1. 입력 파일 준비
`work.csv` 파일을 생성하고 첫 번째 컬럼에 교육과정명을 입력합니다.

```csv
교육명
"긴급복지지원 신고의무 교육"
"역량평가의 이해(사전학습)"
...
```

### 2. 스크래퍼 실행

#### 최종 버전 (권장)
```bash
python kohi_scraper_ultimate.py
```

#### 이전 버전들
```bash
python kohi_scraper.py          # 초기 버전
python kohi_scraper_final.py    # 개선 버전
python kohi_scraper_advanced.py # 고급 버전
```

### 3. 결과 확인
- `scraped_ultimate_final.csv` - 최종 결과
- `scraped_ultimate_temp.csv` - 임시 저장 (10개마다)

## 📊 스크립트 비교

| 스크립트 | 수집 필드 | 특징 |
|---------|----------|------|
| kohi_scraper.py | 21개 | 기본 정보만 수집 |
| kohi_scraper_final.py | 25개 | 안정성 개선 |
| kohi_scraper_advanced.py | 35개 | JavaScript 함수 활용 |
| **kohi_scraper_ultimate.py** | **43개** | **모든 메타데이터 수집 (권장)** |

## 🔧 주요 기능

### 1. 재귀적 개선
- 문제 발견 → 분석 → 개선 → 검증 과정 반복
- 각 버전마다 기능과 안정성 향상

### 2. 안정성
- 각 교육과정마다 새 브라우저 인스턴스 생성
- 에러 처리 및 재시도 로직
- 상세한 로깅

### 3. 데이터 품질
- 텍스트 정제 함수
- 구조화된 JSON 형식으로 복잡한 데이터 저장
- 10개마다 자동 임시 저장

## 📝 로그 파일
- `scraper_ultimate.log` - 상세 실행 로그
- `scraper_final.log` - 최종 버전 로그
- `scraper_advanced.log` - 고급 버전 로그

## ⚠️ 주의사항
1. 서버 부하 방지를 위해 각 요청 사이에 1초 대기
2. 대량 스크래핑 시 네트워크 상태 확인 필요
3. 일부 교육과정은 검색 결과가 없을 수 있음

## 📈 성능
- 평균 처리 시간: 교육과정당 약 15-20초
- 성공률: 검색 가능한 교육과정의 95% 이상
- 수집 필드: 43개 (업계 표준 대비 2배)

## 🤝 기여
문제점 발견 시 이슈를 등록해주세요.

## 📄 라이선스
교육 및 연구 목적으로만 사용 가능합니다.